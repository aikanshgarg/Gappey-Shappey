<p id="notice"><%= notice %></p>

<p>
  <strong>Room Name:</strong>
  <%= @chatroom.name %>
</p>

<div data-behaviour='messages'>
<!-- 	we grab the last 100 messages by desc function, then reverse this array so that we see the last sent message among these 100 at bottom -->
	<% @chatroom.messages.order(created_at: :desc).limit(100).reverse.each do |message| %>
		<div><strong><%= message.user.username%>:</strong>&nbsp<%= message.body %></div>
	<% end %>
</div>


<%= form_for [@chatroom, Message.new] do |f| %>
	<%= f.text_area :body, rows: 1, class: "form-control", autofocus: true %>
<% end %>

<%#= link_to 'Edit', edit_chatroom_path(@chatroom) %> 
<%#= link_to 'Back', chatrooms_path %>
